# EyeContactWebPlayer

**RU Ð½Ð¸Ð¶Ðµ | EN below**

## ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ

Ð’ÐµÐ±â€‘Ð¿Ð»ÐµÐµÑ€, ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ð¹ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ Ðº Ð²ÐµÐ±â€‘ÐºÐ°Ð¼ÐµÑ€Ðµ Ð¸ ÑÑ‚Ð°Ð²Ð¸Ñ‚ Ð²Ð¸Ð´ÐµÐ¾ Ð½Ð° Ð¿Ð°ÑƒÐ·Ñƒ, ÐµÑÐ»Ð¸ Ð½Ðµ Ð²ÑÐµ Ð·Ñ€Ð¸Ñ‚ÐµÐ»Ð¸ ÑÐ¼Ð¾Ñ‚Ñ€ÑÑ‚ Ð½Ð° ÑÐºÑ€Ð°Ð½. ÐžÑ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð²ÐµÐ´Ñ‘Ñ‚ÑÑ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒÑŽ MediaPipe Face Landmarker: Ð²Ñ‹Ñ‡Ð¸ÑÐ»ÑÐµÑ‚ÑÑ Ð½Ð°ÐºÐ»Ð¾Ð½ Ð³Ð¾Ð»Ð¾Ð²Ñ‹ (yaw/pitch), Ð¸ Ð¿Ñ€Ð¸ Ð¾Ñ‚ÐºÐ»Ð¾Ð½ÐµÐ½Ð¸Ð¸ Ð·Ð° Ð¿Ð¾Ñ€Ð¾Ð³ Ð¿Ð»ÐµÐµÑ€ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÑ‚Ð°Ð²Ð¸Ñ‚ÑÑ Ð½Ð° Ð¿Ð°ÑƒÐ·Ñƒ.

**ÐšÐ»ÑŽÑ‡ÐµÐ²Ñ‹Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸**

* ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ðº Ð²ÐµÐ±â€‘ÐºÐ°Ð¼ÐµÑ€Ðµ (Ð±ÐµÐ· ÑÐµÑ€Ð²ÐµÑ€Ð°, Ð²ÑÑ‘ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾)
* ÐœÐ½Ð¾Ð³Ð¾Ð»Ð¸Ñ†ÐµÐ²Ð¾Ðµ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ðµ (Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾ Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÐµÐ¹)
* ÐÐ²Ñ‚Ð¾Ð¿Ð°ÑƒÐ·Ð°, ÐµÑÐ»Ð¸ Ð²Ð½Ð¸Ð¼Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð·Ñ€Ð¸Ñ‚ÐµÐ»ÐµÐ¹ Ð¼ÐµÐ½ÑŒÑˆÐµ Ð¾Ð¶Ð¸Ð´Ð°ÐµÐ¼Ð¾Ð³Ð¾ Ñ‡Ð¸ÑÐ»Ð°
* ÐšÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²ÐºÐ° Â«Ð²ÑÐµ ÑÐ¼Ð¾Ñ‚Ñ€ÑÑ‚ Ð½Ð° ÑÐºÑ€Ð°Ð½Â»
* ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ð¿Ð¾Ñ€Ð¾Ð³Ð¾Ð² yaw/pitch
* UI Ð½Ð° React + React Bootstrap;

> âš ï¸ ÐšÐ¾Ð½Ñ„Ð¸Ð´ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ: Ð²Ð¸Ð´ÐµÐ¾Ð¿Ð¾Ñ‚Ð¾Ðº Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾, Ð½Ð¾ Ð¿Ð¾Ð¿Ñ€Ð¾ÑÐ¸Ñ‚Ðµ ÑÐ¾Ð³Ð»Ð°ÑÐ¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹ Ð½Ð° Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ°Ð¼ÐµÑ€Ñ‹.

---

## ðŸš€ Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹ ÑÑ‚Ð°Ñ€Ñ‚ (Dev)

**Ð¢Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸Ñ:** Node.js **20.19+** Ð¸Ð»Ð¸ **22.12+**

```bash
npm i
npm run dev
```

ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ `http://localhost:5173`, Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÐºÐ°Ð¼ÐµÑ€Ðµ, Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ Ð²Ð¸Ð´ÐµÐ¾ (URL Ð¸Ð»Ð¸ Ñ„Ð°Ð¹Ð»), Ð½Ð°Ð¶Ð¼Ð¸Ñ‚Ðµ Â«ÐšÐ°Ð»Ð¸Ð±Ñ€Ð¾Ð²ÐºÐ°Â», Ð·Ð°Ñ‚ÐµÐ¼ Â«Ð¡Ñ‚Ð°Ñ€Ñ‚ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°Â».

### ÐŸÑƒÑ‚ÑŒ Ð´Ð¾ Ð¼Ð¾Ð´ÐµÐ»Ð¸

ÐŸÐ¾ ÑƒÐ¼Ð¾Ð»Ñ‡Ð°Ð½Ð¸ÑŽ Ð² ÐºÐ¾Ð´Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÑ‚ÑÑ Ð¾Ð±Ð»Ð°Ñ‡Ð½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ Ðº Ð¼Ð¾Ð´ÐµÐ»Ð¸:

```js
const modelAssetPath = "https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task";
```

Ð”Ð»Ñ Ð¾Ñ„Ð»Ð°Ð¹Ð½â€‘Ñ€ÐµÐ¶Ð¸Ð¼Ð° Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚Ðµ Ð¼Ð¾Ð´ÐµÐ»ÑŒ Ð² `public/models/face_landmarker.task` Ð¸ Ð·Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ Ð¿ÑƒÑ‚ÑŒ Ð½Ð°:

```js
const modelAssetPath = "/models/face_landmarker.task";
```



> ÐšÐ°Ð¼ÐµÑ€Ð° Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ñ€Ð°Ð±Ð¾Ñ‚Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¸ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚Ð¸Ð¸ `dist/index.html` Ñ‡ÐµÑ€ÐµÐ· `file://` â€” Ð½ÑƒÐ¶ÐµÐ½ **HTTP** (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, `vite preview` Ð¸Ð»Ð¸ `npx serve dist`).

---

## ðŸ”§ Ð¢Ñ€Ð°Ð±Ð»ÑˆÑƒÑ‚Ð¸Ð½Ð³

* **Vite Ñ€ÑƒÐ³Ð°ÐµÑ‚ÑÑ Ð½Ð° Node:** Ð¿Ð¾ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Node 20.19+ Ð¸Ð»Ð¸ 22.12+ (Ð½Ð° Windows ÑƒÐ´Ð¾Ð±Ð½Ð¾ Ñ‡ÐµÑ€ÐµÐ· nvm-windows).
* **404 Ð½Ð° Ð¼Ð¾Ð´ÐµÐ»Ð¸:** Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¿ÑƒÑ‚ÑŒ `/models/face_landmarker.task` Ð¸ Ð¿Ð¾Ð»Ð¾Ð¶Ð¸Ñ‚Ðµ Ñ„Ð°Ð¹Ð» Ð² `public/models`.
* **ÐšÐ°Ð¼ÐµÑ€Ð° Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚:** Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ, Ñ‡Ñ‚Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ð²Ð°ÐµÑ‚Ðµ Ð¿Ð¾ HTTP/HTTPS, Ð° Ð½Ðµ `file://`; Ñ€Ð°Ð·Ñ€ÐµÑˆÐ¸Ñ‚Ðµ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÐºÐ°Ð¼ÐµÑ€Ðµ Ð² Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€Ðµ/ÑÐ¸ÑÑ‚ÐµÐ¼Ðµ.

---

## ðŸ“„ Ð›Ð¸Ñ†ÐµÐ½Ð·Ð¸Ñ


---

## English

### Description

A web video player that connects to the webcam and **autoâ€‘pauses** the movie if not everyone is looking at the screen. All processing happens locally in the browser using MediaPipe Face Landmarker. We estimate head pose (yaw/pitch) and compare it against thresholds.

**Features**

* Local webcam processing (no backend)
* Multiâ€‘face tracking
* Autoâ€‘pause when attentive viewers drop below expected count
* Oneâ€‘click calibration
* Adjustable yaw/pitch thresholds
* React + React Bootstrap UI; webcam preview can be toggled

### Quick Start (Dev)

**Requires:** Node.js **20.19+** or **22.12+**

```bash
npm i
npm run dev
```

Open `http://localhost:5173`, allow camera, load a video, calibrate, then start monitoring.

**Model path**
Cloud (default):

```js
const modelAssetPath = "https://storage.googleapis.com/mediapipe-models/face_landmarker/face_landmarker/float16/1/face_landmarker.task";
```

Offline:

```js
const modelAssetPath = "/models/face_landmarker.task"; // put file under public/models
```

**Build (SPA)**

```bash
npm run build
npm run preview   # serves over HTTP (required for camera)
```

> If using a local model, set `modelAssetPath = "/models/face_landmarker.task"` and include it via `extraResources`.


**Notes**

* Camera requires HTTP/HTTPS (no `file://`).
* Use local model path if the network blocks GCS.

